<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>adc6aeb4744e4fee9ae50a28aa0fa48a</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell markdown">
<p><em>(Código de notebook para actualizar cambios en otros
ficheros)</em></p>
</div>
<div class="cell code" data-execution_count="3">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>load_ext autoreload</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>autoreload <span class="dv">2</span></span></code></pre></div>
</div>
<div class="cell markdown">
<h1 style="font-size: 48px; color: #4682B4; font-family: 'Times New Roman', serif; text-align: center;">
        PRÁCTICA Nº 3: ALGORITMOS GENÉTICOS
</h1>
</div>
<div class="cell markdown">
<hr />
</div>
<div class="cell code" data-execution_count="4">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> ClasificadorAlgoritmoGenetico <span class="im">import</span> ClasificadorAlgoritmoGenetico</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> Datos <span class="im">import</span> Datos</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> EstrategiaParticionado <span class="im">import</span> ValidacionSimple</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> tasa_error(tam_poblacion<span class="op">=</span><span class="dv">50</span>, num_generaciones<span class="op">=</span><span class="dv">100</span>, prob_cruce<span class="op">=</span><span class="fl">0.8</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        prob_mut<span class="op">=</span><span class="fl">0.1</span>, max_reglas<span class="op">=</span><span class="dv">5</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        prop_elitismo<span class="op">=</span><span class="dv">5</span>, logs<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    dataset1 <span class="op">=</span> <span class="st">&#39;titanic&#39;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Cargar datos usando la clase Datos</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    datos_titanic <span class="op">=</span> Datos(nombreFichero<span class="op">=</span><span class="ss">f&#39;ConjuntosDatosP3/</span><span class="sc">{</span>dataset1<span class="sc">}</span><span class="ss">.csv&#39;</span>, print_val<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Separar atributos y clase directamente desde self.datos</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> datos_titanic.datos[:, :<span class="op">-</span><span class="dv">1</span>]  <span class="co"># Todas las columnas excepto la última</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> datos_titanic.datos[:, <span class="op">-</span><span class="dv">1</span>]   <span class="co"># Solo la última columna (clase)</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convertir a enteros (si no están en este formato)</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> X.astype(<span class="bu">int</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> y.astype(<span class="bu">int</span>)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Valores únicos por atributo ajustados</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    valores_por_atributo <span class="op">=</span> [X[:, i].<span class="bu">max</span>() <span class="op">+</span> <span class="dv">1</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(X.shape[<span class="dv">1</span>])]</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Configurar el clasificador</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    clasificador <span class="op">=</span> ClasificadorAlgoritmoGenetico(</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>        tam_poblacion<span class="op">=</span><span class="dv">50</span>, num_generaciones<span class="op">=</span><span class="dv">100</span>, prob_cruce<span class="op">=</span><span class="fl">0.8</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>        prob_mut<span class="op">=</span><span class="fl">0.1</span>, max_reglas<span class="op">=</span><span class="dv">5</span>, valores_por_atributo<span class="op">=</span>valores_por_atributo,</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>        prop_elitismo<span class="op">=</span><span class="dv">5</span>, logs<span class="op">=</span>logs</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validación simple</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    vs <span class="op">=</span> ValidacionSimple(proporcionTrain<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    particiones <span class="op">=</span> vs.creaParticiones(datos_titanic)</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Entrenamiento y evaluación</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> particion <span class="kw">in</span> particiones:</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Extraer los datos de entrenamiento y prueba</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>        datos_train <span class="op">=</span> datos_titanic.extraeDatos(particion.indicesTrain)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>        datos_test <span class="op">=</span> datos_titanic.extraeDatos(particion.indicesTest)</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Entrenar el clasificador</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>        clasificador.entrenamiento(datos_train[:, :<span class="op">-</span><span class="dv">1</span>], datos_train[:, <span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Clasificar los datos de prueba</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>        predicciones <span class="op">=</span> clasificador.clasifica(datos_test[:, :<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Calcular tasa de error</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>        error <span class="op">=</span> clasificador.error(datos_test, predicciones)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> error</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
</div>
<div class="cell code" data-execution_count="5">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> ClasificadorAlgoritmoGenetico <span class="im">import</span> ClasificadorAlgoritmoGenetico</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> Datos <span class="im">import</span> Datos</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> EstrategiaParticionado <span class="im">import</span> ValidacionSimple</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mejor_individuo(tam_poblacion<span class="op">=</span><span class="dv">50</span>, num_generaciones<span class="op">=</span><span class="dv">100</span>, prob_cruce<span class="op">=</span><span class="fl">0.8</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        prob_mut<span class="op">=</span><span class="fl">0.1</span>, max_reglas<span class="op">=</span><span class="dv">5</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        prop_elitismo<span class="op">=</span><span class="dv">5</span>, logs<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    dataset1 <span class="op">=</span> <span class="st">&#39;titanic&#39;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Cargar datos usando la clase Datos</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    datos_titanic <span class="op">=</span> Datos(nombreFichero<span class="op">=</span><span class="ss">f&#39;ConjuntosDatosP3/</span><span class="sc">{</span>dataset1<span class="sc">}</span><span class="ss">.csv&#39;</span>, print_val<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Separar atributos y clase directamente desde self.datos</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> datos_titanic.datos[:, :<span class="op">-</span><span class="dv">1</span>]  <span class="co"># Todas las columnas excepto la última</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> datos_titanic.datos[:, <span class="op">-</span><span class="dv">1</span>]   <span class="co"># Solo la última columna (clase)</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convertir a enteros (si no están en este formato)</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> X.astype(<span class="bu">int</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> y.astype(<span class="bu">int</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Valores únicos por atributo ajustados</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    valores_por_atributo <span class="op">=</span> [X[:, i].<span class="bu">max</span>() <span class="op">+</span> <span class="dv">1</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(X.shape[<span class="dv">1</span>])]</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Configurar el clasificador</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    clasificador <span class="op">=</span> ClasificadorAlgoritmoGenetico(</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>        tam_poblacion<span class="op">=</span><span class="dv">50</span>, num_generaciones<span class="op">=</span><span class="dv">100</span>, prob_cruce<span class="op">=</span><span class="fl">0.8</span>,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>        prob_mut<span class="op">=</span><span class="fl">0.1</span>, max_reglas<span class="op">=</span><span class="dv">5</span>, valores_por_atributo<span class="op">=</span>valores_por_atributo,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>        prop_elitismo<span class="op">=</span><span class="dv">5</span>, logs<span class="op">=</span>logs</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validación simple</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    vs <span class="op">=</span> ValidacionSimple(proporcionTrain<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    particiones <span class="op">=</span> vs.creaParticiones(datos_titanic)</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Entrenamiento y evaluación</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> particion <span class="kw">in</span> particiones:</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Extraer los datos de entrenamiento y prueba</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>        datos_train <span class="op">=</span> datos_titanic.extraeDatos(particion.indicesTrain)</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>        datos_test <span class="op">=</span> datos_titanic.extraeDatos(particion.indicesTest)</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Entrenar el clasificador</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>        clasificador.entrenamiento(datos_train[:, :<span class="op">-</span><span class="dv">1</span>], datos_train[:, <span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> clasificador.mejor_individuo</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
</div>
<div class="cell markdown">
<hr />
</div>
<div class="cell markdown">
<h2 style="font-size: 48px; color: #D84A6A; font-family: 'Times New Roman', serif; text-align: left;">
        Preguntas
</h2>
</div>
<section id="apartado-1" class="cell markdown">
<h1>Apartado 1</h1>
<h2
id="breve-descripción-de-algunos-detalles-de-la-implementación">Breve
descripción de algunos detalles de la implementación:</h2>
<ul>
<li><h3 id="mecanismo-de-cruce-implementado">Mecanismo de cruce
implementado</h3>
<blockquote>
<h5
id="el-cruce-se-realiza-mediante-un-cruce-en-un-punto-entre-dos-individuos">El
cruce se realiza mediante un cruce en un punto entre dos
individuos:</h5>
<ul>
<li>Se selecciona un punto de cruce al azar dentro de la longitud mínima
de los dos individuos.</li>
<li>Los fragmentos anteriores al punto se toman del primer padre, y los
posteriores, del segundo.</li>
<li>Resultado: Dos nuevos individuos con combinaciones de las reglas de
los padres.</li>
</ul>
</blockquote></li>
<li><h3 id="mecanismo-de-mutación">Mecanismo de Mutación</h3>
<blockquote>
<h5 id="la-mutación-sigue-un-enfoque-de-mutación-puntual">La mutación
sigue un enfoque de mutación puntual:</h5>
<ul>
<li>Cada bit en una regla tiene una probabilidad prob_mut de mutar.</li>
<li>La mutación invierte el bit: un 0 se convierte en 1 y
viceversa.</li>
</ul>
</blockquote></li>
</ul>
</section>
<section id="apartado-2" class="cell markdown">
<h1>Apartado 2</h1>
<h2 id="cálculo-de-los-resultados">Cálculo de los resultados</h2>
</section>
<div class="cell code">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Parametros a variar</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>tam_poblacion_list <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">100</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>num_generaciones_list <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">100</span>]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>elitismo_list <span class="op">=</span> [<span class="dv">5</span>, <span class="dv">10</span>]</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>num_reglas_list <span class="op">=</span> [<span class="dv">5</span>, <span class="dv">10</span>]</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>lista_resultados <span class="op">=</span> []</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> tam_poblacion <span class="kw">in</span> tam_poblacion_list:</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> num_generaciones <span class="kw">in</span> num_generaciones_list:</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> elitismo <span class="kw">in</span> elitismo_list:</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> num_reglas <span class="kw">in</span> num_reglas_list:</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>                error <span class="op">=</span> tasa_error(tam_poblacion<span class="op">=</span>tam_poblacion, num_generaciones<span class="op">=</span>num_generaciones,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                                    prop_elitismo<span class="op">=</span>elitismo, max_reglas<span class="op">=</span>num_reglas, logs<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                lista_resultados.append([tam_poblacion, num_generaciones, elitismo, num_reglas, error])</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lista_resultados)</span></code></pre></div>
</div>
<section
id="debido-a-que-tarda-apoximadamente-30-minutos-recojo-los-datos-de-una-ejecución-y-analizo-esos-datos"
class="cell markdown">
<h5>Debido a que tarda apoximadamente 30 minutos, recojo los datos de
una ejecución y analizo esos datos:</h5>
</section>
<div class="cell code" data-execution_count="7">
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el DataFrame</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> np.array([[<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2344</span>], [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.1818</span>], [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2009</span>], </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2057</span>], [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2009</span>], [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2392</span>], </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2105</span>], [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2440</span>], [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2201</span>], </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2249</span>], [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.1770</span>], [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2631</span>], </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2392</span>], [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2440</span>], </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2201</span>], [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2488</span>], [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2201</span>], </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2057</span>], [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2009</span>], </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.1866</span>], [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.3062</span>], </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2153</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2679</span>], </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2009</span>], [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2201</span>], [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2201</span>], </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2297</span>], [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2249</span>], [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2584</span>], </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>                 [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2727</span>], [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2057</span>], [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2057</span>]])</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir los datos a un DataFrame</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data, columns<span class="op">=</span>[<span class="st">&quot;Tamaño Población&quot;</span>, <span class="st">&quot;Generaciones&quot;</span>, <span class="st">&quot;Elitismo&quot;</span>, <span class="st">&quot;Reglas&quot;</span>, <span class="st">&quot;Error&quot;</span>])</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Ordenar el DataFrame por la columna de &#39;Error&#39; de menor a mayor y seleccionar las 10 filas con menor error</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>top_10_combinations <span class="op">=</span> df.sort_values(by<span class="op">=</span><span class="st">&quot;Error&quot;</span>).head(<span class="dv">10</span>)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar las 10 combinaciones con menor error</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top_10_combinations)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>    Tamaño Población  Generaciones  Elitismo  Reglas   Error
10              50.0         100.0      10.0     5.0  0.1770
1               50.0          50.0       5.0    10.0  0.1818
22              75.0         100.0      10.0     5.0  0.1866
4               50.0          75.0       5.0     5.0  0.2009
20              75.0         100.0       5.0     5.0  0.2009
27             100.0          50.0      10.0    10.0  0.2009
2               50.0          50.0      10.0     5.0  0.2009
3               50.0          50.0      10.0    10.0  0.2057
18              75.0          75.0      10.0     5.0  0.2057
35             100.0         100.0      10.0    10.0  0.2057
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>Se puede concluir que la mejor convinación es:</p>
<ul>
<li>Tamaño Población: 50</li>
<li>Numero de generaciones: 100</li>
<li>Elitismo: 10%</li>
<li>Maximo de reglas: 5</li>
</ul>
</div>
<div class="cell code" data-execution_count="8">
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>individuo <span class="op">=</span> mejor_individuo(tam_poblacion<span class="op">=</span><span class="dv">50</span>, num_generaciones<span class="op">=</span><span class="dv">100</span>, prop_elitismo<span class="op">=</span><span class="dv">10</span>, max_reglas<span class="op">=</span><span class="dv">5</span>, logs<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Reglas del mejor individuo:&#39;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> regla <span class="kw">in</span> individuo:</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;    - </span><span class="sc">{</span>regla<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Reglas del mejor individuo:
    - 11101001111111111111001
    - 11111111111001110011100
    - 01100010111101011000010
    - 01111101101111000101000
    - 01100100101110011100011
</code></pre>
</div>
</div>
<section id="apartado-3" class="cell markdown">
<h1>Apartado 3</h1>
<h2 id="análisis-de-los-resultados">Análisis de los resultados</h2>
</section>
<div class="cell code" data-execution_count="10">
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Resultados del algoritmo genético</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2344</span>], [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.1818</span>], [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2009</span>], [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2057</span>],</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2009</span>], [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2392</span>], [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2105</span>], [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2440</span>],</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2201</span>], [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2249</span>], [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.1770</span>], [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2631</span>],</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2392</span>], [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2440</span>], [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2201</span>],</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2488</span>], [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2201</span>], [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2057</span>], [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>],</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2009</span>], [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.1866</span>], [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.3062</span>],</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2153</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2679</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2009</span>],</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2201</span>], [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2201</span>], [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2297</span>], [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2249</span>],</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2584</span>], [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2727</span>], [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2057</span>], [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2057</span>]</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertimos los resultados en un DataFrame para facilitar el análisis</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [<span class="st">&quot;Tamaño Población&quot;</span>, <span class="st">&quot;Generaciones&quot;</span>, <span class="st">&quot;Elitismo&quot;</span>, <span class="st">&quot;Reglas&quot;</span>, <span class="st">&quot;Error&quot;</span>]</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data, columns<span class="op">=</span>columns)</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Generamos el boxplot: Tamaño de la Población vs Error</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>sns.boxplot(x<span class="op">=</span><span class="st">&quot;Tamaño Población&quot;</span>, y<span class="op">=</span><span class="st">&quot;Error&quot;</span>, data<span class="op">=</span>df, palette<span class="op">=</span><span class="st">&quot;Set3&quot;</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Distribución del Error según el Tamaño de Población&quot;</span>)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Tamaño de Población&quot;</span>)</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Error&quot;</span>)</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>C:\Users\Usuario\AppData\Local\Temp\ipykernel_12836\1553236794.py:24: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.boxplot(x=&quot;Tamaño Población&quot;, y=&quot;Error&quot;, data=df, palette=&quot;Set3&quot;)
</code></pre>
</div>
<div class="output display_data">
<p><img
src="img/a8e9bfd363c7432e7646c79370e3ac8aa9e3cc34.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="11">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Resultados del algoritmo genético</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2344</span>], [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.1818</span>], [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2009</span>], [<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2057</span>],</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2009</span>], [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2392</span>], [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2105</span>], [<span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2440</span>],</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2201</span>], [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2249</span>], [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.1770</span>], [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2631</span>],</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2392</span>], [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2440</span>], [<span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2201</span>],</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2488</span>], [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2201</span>], [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2057</span>], [<span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>],</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2009</span>], [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.1866</span>], [<span class="dv">75</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.3062</span>],</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2153</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2297</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2679</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2009</span>],</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2201</span>], [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2201</span>], [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2297</span>], [<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2249</span>],</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="fl">0.2584</span>], [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="fl">0.2727</span>], [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">5</span>, <span class="fl">0.2057</span>], [<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="fl">0.2057</span>]</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertimos los resultados en un DataFrame para facilitar el análisis</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [<span class="st">&quot;Tamaño Población&quot;</span>, <span class="st">&quot;Generaciones&quot;</span>, <span class="st">&quot;Elitismo&quot;</span>, <span class="st">&quot;Reglas&quot;</span>, <span class="st">&quot;Error&quot;</span>]</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data, columns<span class="op">=</span>columns)</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Creamos una lista de características para analizar</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>features <span class="op">=</span> [<span class="st">&quot;Elitismo&quot;</span>, <span class="st">&quot;Reglas&quot;</span>, <span class="st">&quot;Generaciones&quot;</span>]</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Graficamos un boxplot para cada característica</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">18</span>, <span class="dv">6</span>))</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, feature <span class="kw">in</span> <span class="bu">enumerate</span>(features, <span class="dv">1</span>):</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>    plt.subplot(<span class="dv">1</span>, <span class="dv">3</span>, i)</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>    sns.boxplot(x<span class="op">=</span>feature, y<span class="op">=</span><span class="st">&quot;Error&quot;</span>, data<span class="op">=</span>df, palette<span class="op">=</span><span class="st">&quot;Set3&quot;</span>)</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f&quot;Error vs </span><span class="sc">{</span>feature<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(feature)</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">&quot;Error&quot;</span>)</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>    plt.grid(<span class="va">True</span>)</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output stream stderr">
<pre><code>C:\Users\Usuario\AppData\Local\Temp\ipykernel_12836\231963004.py:30: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.boxplot(x=feature, y=&quot;Error&quot;, data=df, palette=&quot;Set3&quot;)
C:\Users\Usuario\AppData\Local\Temp\ipykernel_12836\231963004.py:30: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.boxplot(x=feature, y=&quot;Error&quot;, data=df, palette=&quot;Set3&quot;)
C:\Users\Usuario\AppData\Local\Temp\ipykernel_12836\231963004.py:30: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.boxplot(x=feature, y=&quot;Error&quot;, data=df, palette=&quot;Set3&quot;)
</code></pre>
</div>
<div class="output display_data">
<p><img
src="img/95941ea4d084f89ef6d2e527d6b0ad7c4a968511.png" /></p>
</div>
</div>
<div class="cell markdown">
<h5
id="--tamaño-de-población-por-la-gráfica-se-podría-decir-que-a-mayor-tamaño-menos-variación-hay-en-los-resultados-concentrándose-la-mayoría-de-resultados-más-por-otro-lado-los-resultados-más-bajos-se-obtienen-con-tamaño-de-población-50-para-esta-muestra-se-obtienen-mejores-datos-con-tamaño-50-para-todos-los-casos-peores-mejores-y-medios-es-mejor-tamaño-50-que-100-el-único-punto-a-favor-de-100-es-que-está-más-concentrado-y-genera-datos-más-estables">-
Tamaño de población: Por la gráfica se podría decir que, a mayor tamaño,
menos variación hay en los resultados, concentrándose la mayoría de
resultados más. Por otro lado, los resultados más bajos se obtienen con
tamaño de población 50. Para esta muestra se obtienen mejores datos con
tamaño 50. Para todos los casos (peores, mejores y medios) es mejor
tamaño 50 que 100; el único punto a favor de 100 es que está más
concentrado y genera datos más "estables".</h5>
<h5
id="--proporción-de-elitismo-se-obtiene-mejor-resultado-medio-para-10-aunque-más-disperso-y-el-caso-peor-es-un-poco-peor-que-el-de-5">-
Proporción de elitismo: Se obtiene mejor resultado medio para 10, aunque
más disperso, y el caso peor es un poco peor que el de 5.</h5>
<h5
id="--número-de-reglas-muy-parecido-al-resultado-de-elitismo-pero-para-5-es-mejor-para-5-que-para-10-pero-es-más-disperso">-
Número de reglas: Muy parecido al resultado de elitismo, pero para 5. Es
mejor para 5 que para 10, pero es más disperso.</h5>
<h5
id="--número-de-generaciones-el-menor-error-es-para-100-en-el-caso-mejor-el-más-estable-es-75-pero-donde-más-se-concentran-los-buenos-resultados-es-en-el-de-50">-
Número de generaciones: El menor error es para 100 en el caso mejor. El
más estable es 75, pero donde más se concentran los buenos resultados es
en el de 50.</h5>
</div>
<section id="apartado-4" class="cell markdown">
<h1>Apartado 4</h1>
<h2
id="gráfica-del-fitness-del-mejor-individuo-y-del-fitness-medio-de-la-población">Gráfica
del fitness del mejor individuo y del fitness medio de la población</h2>
</section>
<div class="cell code" data-execution_count="12">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_evolucion_fitness(tam_poblacion<span class="op">=</span><span class="dv">50</span>, num_generaciones<span class="op">=</span><span class="dv">100</span>, prob_cruce<span class="op">=</span><span class="fl">0.8</span>,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>        prob_mut<span class="op">=</span><span class="fl">0.1</span>, max_reglas<span class="op">=</span><span class="dv">5</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        prop_elitismo<span class="op">=</span><span class="dv">5</span>, logs<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    dataset1 <span class="op">=</span> <span class="st">&#39;titanic&#39;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Cargar datos usando la clase Datos</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    datos_titanic <span class="op">=</span> Datos(nombreFichero<span class="op">=</span><span class="ss">f&#39;ConjuntosDatosP3/</span><span class="sc">{</span>dataset1<span class="sc">}</span><span class="ss">.csv&#39;</span>, print_val<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Separar atributos y clase directamente desde self.datos</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> datos_titanic.datos[:, :<span class="op">-</span><span class="dv">1</span>]  <span class="co"># Todas las columnas excepto la última</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> datos_titanic.datos[:, <span class="op">-</span><span class="dv">1</span>]   <span class="co"># Solo la última columna (clase)</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convertir a enteros (si no están en este formato)</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    X <span class="op">=</span> X.astype(<span class="bu">int</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> y.astype(<span class="bu">int</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Valores únicos por atributo ajustados</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    valores_por_atributo <span class="op">=</span> [X[:, i].<span class="bu">max</span>() <span class="op">+</span> <span class="dv">1</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(X.shape[<span class="dv">1</span>])]</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Configurar el clasificador</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    clasificador <span class="op">=</span> ClasificadorAlgoritmoGenetico(</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>        tam_poblacion<span class="op">=</span><span class="dv">50</span>, num_generaciones<span class="op">=</span><span class="dv">100</span>, prob_cruce<span class="op">=</span><span class="fl">0.8</span>,</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>        prob_mut<span class="op">=</span><span class="fl">0.1</span>, max_reglas<span class="op">=</span><span class="dv">5</span>, valores_por_atributo<span class="op">=</span>valores_por_atributo,</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>        prop_elitismo<span class="op">=</span><span class="dv">5</span>, logs<span class="op">=</span>logs</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validación simple</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    vs <span class="op">=</span> ValidacionSimple(proporcionTrain<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    particiones <span class="op">=</span> vs.creaParticiones(datos_titanic)</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Entrenamiento y evaluación</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> particion <span class="kw">in</span> particiones:</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Extraer los datos de entrenamiento y prueba</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>        datos_train <span class="op">=</span> datos_titanic.extraeDatos(particion.indicesTrain)</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>        datos_test <span class="op">=</span> datos_titanic.extraeDatos(particion.indicesTest)</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Entrenar el clasificador</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>        clasificador.entrenamiento(datos_train[:, :<span class="op">-</span><span class="dv">1</span>], datos_train[:, <span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Clasificar los datos de prueba</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>        predicciones <span class="op">=</span> clasificador.clasifica(datos_test[:, :<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Calcular tasa de error</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>        error <span class="op">=</span> clasificador.error(datos_test, predicciones)</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Entrenar el clasificador</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>    clasificador.entrenamiento(datos_train[:, :<span class="op">-</span><span class="dv">1</span>], datos_train[:, <span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Graficar evolución del fitness</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>    plt.plot(clasificador.fitness_mejor, label<span class="op">=</span><span class="st">&quot;Mejor fitness&quot;</span>)</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>    plt.plot(clasificador.fitness_promedio, label<span class="op">=</span><span class="st">&quot;Fitness promedio&quot;</span>)</span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(<span class="st">&quot;Generaciones&quot;</span>)</span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">&quot;Fitness&quot;</span>)</span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a>    plt.legend()</span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">&quot;Evolución del Fitness&quot;</span>)</span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code></pre></div>
</div>
<section id="valores-por-defecto" class="cell markdown">
<h3>Valores por defecto</h3>
</section>
<div class="cell code" data-execution_count="13">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>plot_evolucion_fitness(logs<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
<div class="output display_data">
<p><img
src="img/0d7d3524b49c54ad00a80b52965cd0b23bfd5ebd.png" /></p>
</div>
</div>
<section id="mejores-valores-de-error-obtenidos" class="cell markdown">
<h3>Mejores valores de error obtenidos</h3>
</section>
<div class="cell code" data-execution_count="14">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plot_evolucion_fitness(tam_poblacion<span class="op">=</span><span class="dv">50</span>, num_generaciones<span class="op">=</span><span class="dv">100</span>, prop_elitismo<span class="op">=</span><span class="dv">10</span>, max_reglas<span class="op">=</span><span class="dv">5</span>, logs<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
<div class="output display_data">
<p><img
src="img/33a52b53b1e2aae013cdae639ceeec6c81dd6645.png" /></p>
</div>
</div>
<section
id="se-nota-una-mejora-sobre-todo-en-el-fitness-medio-y-en-el-comienzo-del-firness-del-mejor-este-empieza-mucho-mejor-que-el-anterior-aunque-no-hay-mucha-diferencia"
class="cell markdown">
<h5>Se nota una mejora sobre todo en el fitness medio y en el comienzo
del firness del mejor (este empieza mucho mejor que el anterior), aunque
no hay mucha diferencia</h5>
</section>
</body>
</html>
